<!DOCTYPE html>
<html>
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <style>
    body {
      background-color:#E7E9EB;
    }

    td {
      font-family: Helvetica;
    }

    #menuDiv {
      height:100%;
      position: absolute;
      top: 0px;
      left: 0px;
      width: 320px;
      display: block;
      background-color:#007E9F;
      border: 1px solid none;
      border-radius:0px 0px 0px 0px;
      padding-left: 0px;
      padding-bottom:0px;
      padding-top:0px;
      color:#ffffff;
      font-size:18px;
      font-weight: normal;
      font-family: Helvetica;
    }

    #myDIV {
      position: absolute;
      height:30px;
      left:281px;
      top:140px;
      margin-left:83px;
      width: 80%;
      background-color:#007E9F;
      border: 1px solid none;
      border-radius:10px 10px 0px 0px;
      padding-left: 10px;
      padding-bottom:0px;
      padding-top:12px;
      color:#ffffff;
      font-size:18px;
      font-weight: normal;
      font-family: Helvetica;
      display: inline-block;
      cursor: pointer;
      border-color: blue;
      border-width: 1px;
    }

    #mySearchElements {
      position: absolute;
      height:80px;
      left:281px;
      top:180px;
      margin-left:83px;
      width: 80%;
      background-color:#CheckingArea;
      border: 1px solid none;
      border-radius:0px 0px 0px 0px;
      padding-left: 10px;
      padding-bottom:0px;
      padding-top: 10px;
      color:#ffffff;
      font-size:18px;
      font-weight: normal;
      font-family: Helvetica;
      display: inline-block;
      border-color: blue;
      border-width: 1px;
    }

    .myDIV2 {
      position: absolute;
      height:30px;
      left:0px;
      top:0px;
      margin-left:0px;
      width: 80%;
      background-color:#007E9F;
      border: 1px solid none;
      border-radius:10px 10px 0px 0px;
      padding-left: 10px;
      padding-bottom:0px;
      padding-top:12px;
      color:#ffffff;
      font-size:18px;
      font-weight: normal;
      font-family: Helvetica;
      display: inline-block;
    }

    #myButtons {
      position: absolute;
      height:95px;
      left:281px;
      top:0px;
      margin-left:75px;width: 80%;
      padding-left: 10px;
      padding-bottom:20px;
      padding-top:75px;
      font-size:11px;
      font-weight: normal;
      font-family: Helvetica;
      display: inline-block;
      cursor: pointer;
    }

    .buttspan {
      border-radius: 20px;
      background-color: #ffffff;
      padding: 10px 20px 10px 19px;
    }

    .activeButt {
      background-color: #007E9F;
      color:#ffffff;
    }


    .mylabel {
      color: #000000;
      font-size: 14px;
    }

    .datebox {
    }

    .btnOverall {
      width: 25px;
      height: 25px;
    }

    #btnOverall {
      position: relative;
      top: 6px;
      width: 25px;
      height: 25px;
      display: inline-block;
    }

    .imglink {
      position: relative;
      width: 25px;
      height: 25px;
      display: inline-block;
    }

    .imgbutton {
      width: 20px;
      height: 20px;
      position: relative;
      top: 3px;
    }

    .daterange {
      position: relative;
      top: 0px;
      display: inline-block;
      color: gray;
      border-style: solid;
      border-width: 1px;
      border-color: darkgray;
      border-radius: 20px;
      background-color: #ffffff;
      padding: 5px 10px 5px 10px;
      font-size: 10px;
      cursor: pointer;
    }

    .searchButton {
      position: relative;
      top: 0px;
      display: inline-block;
      color: #ffffff;
      border-style: solid;
      border-width: 1px;
      border-color: darkgray;
      border-radius: 20px;
      background-color: #007E9F;
      padding: 5px 10px 5px 10px;
      font-size: 10px;
      cursor: pointer;
    }

    .curlyborder {
      border-radius: 5px;
    }

    #selected_ticket {
      width: 240px;
    }

    #selected_account {
      width: 240px;
    }

    #selected_BetType {
      width: 240px;
    }

    #btnOverall { cursor: pointer; }
    #btnTicket { cursor: pointer; }
    #btnAccounts { cursor: pointer; }
    #btnBetTypes { cursor: pointer; }

    .burger {
      position: fixed;
      left:320px;
      top:50px;
      width: 23px;
      height: 23px;
      padding: 7px 7px 7px 7px;
      background-color: #007E9F;
      border-radius:0px 5px 5px 0px;
      cursor: pointer;
    }

    #CheckingArea {
      position: absolute;
      top: 300px;
      height: 20%;
      width:80%;
      left: 281px;
      margin-left: 83px;
      background: #ccffff;
      display: inline-block;
    }

    #HiddenInfo {
      display: none;
    }

    #L1Area {
      position: absolute;
      top: 250px;
      height: 100%;
      width:80%;
      left: 281px;
      margin-left: 83px;
      background: #ffffff;
      display: inline-block;
    }

    #L2Area {
      position: absolute;
      top: 250px;
      height: 100%;
      width:80%;
      left: 281px;
      margin-left: 83px;
      background: #ffffff;
      display: inline-block;
    }

    #L3Area {
      position: absolute;
      top: 250px;
      height: 100%;
      width:80%;
      left: 281px;
      margin-left: 83px;
      background: #ffffff;
      display: inline-block;
    }

    #L4Area {
      position: absolute;
      top: 250px;
      height: 100%;
      width:80%;
      left: 281px;
      margin-left: 83px;
      background: #ffffff;
      display: inline-block;
    }

    #closebutton2 {
      position: absolute;
      top: 250px;
      border-radius: 10px;
      left: 1500px;
      display: inline-block;
      width: 25px;
      height: 25px;
      padding-left: 0px;
      padding-right: 0px;
      padding-top: 0px;
      padding-bottom: 0px;
      border: 1px solid;
      padding: 0px;
      box-shadow: 3px 2px #888888;
      border-radius:15px;  
      cursor: pointer; 
    }

    #copybutton2 {
      position: absolute;
      top: 278px;
      border-radius: 10px;
      left: 1500px;
      display: inline-block;
      width: 25px;
      height: 25px;
      padding-left: 0px;
      padding-right: 0px;
      padding-top: 0px;
      padding-bottom: 0px;
      border: 1px solid;
      padding: 0px;
      box-shadow: 3px 2px #888888;
      border-radius:15px;   
      cursor: pointer;       
    }

    #printbutton2 {
      position: absolute;
      top: 306px;
      border-radius: 10px;
      left: 1500px;
      display: inline-block;
      width: 25px;
      height: 25px;
      padding-left: 0px;
      padding-right: 0px;
      padding-top: 0px;
      padding-bottom: 0px;      
      border-style: none;
      border: 1px solid;
      padding: 0px;
      box-shadow: 3px 2px #888888;
      border-radius:15px;       
      cursor: pointer;       
    }

    #excelbutton2 {
      position: absolute;
      top: 334px;
      border-radius: 10px;
      left: 1500px;
      display: inline-block;
      width: 25px;
      height: 25px;
      padding-left: 0px;
      padding-right: 0px;
      padding-top: 0px;
      padding-bottom: 0px;      
      border-style: none;
      border: 1px solid;
      padding: 0px;
      box-shadow: 3px 2px #888888;
      border-radius:15px;   
      cursor: pointer; 
    }

    #downloadbutton2 {
      position: absolute;
      top: 362px;
      border-radius: 10px;
      left: 1500px;
      display: inline-block;
      width: 25px;
      height: 25px;
      padding-left: 0px;
      padding-right: 0px;
      padding-top: 0px;
      padding-bottom: 0px;  
      border-style: none;
      border: 1px solid;
      padding: 0px;
      box-shadow: 3px 2px #888888;
      border-radius:15px;   
      cursor: pointer;           
    }

    #prevbutton2 {
      position: absolute;
      top: 390px;
      border-radius: 10px;
      left: 1500px;
      display: inline-block;
      width: 25px;
      height: 25px;
      padding-left: 0px;
      padding-right: 0px;
      padding-top: 0px;
      padding-bottom: 0px;
      border-style: none;
      border: 1px solid;
      padding: 0px;
      box-shadow: 3px 2px #888888;
      border-radius:15px;     
      cursor: pointer;         
    }

    .TableTitle {
      background: #0099FF;
    }

    .TableBack {background: #CCFFFF}

    .cellborder {
        font-weight: bolder;
        border-style: solid;
        border-width: 1px;
        border-color: blue;
        background: #99ffff;
        color: #000000;
        padding-left: 3px;
        padding-right: 3px;
    }

    .celldata {
        font-weight: normal;
        color: black;
        border-style: solid;
        border-width: 1px;
        border-color: blue;
        background: #ffffff;
        padding-left: 3px;
        padding-right: 3px;
    }

    .cellcenter {
        text-align: center;
    }

    .cellright {
        text-align: right;
    }

    .cellleft {
        text-align: left;
    }

    .bckPink {
        background: #f863ba;
        border-style: none;
        min-width: 150px;
    }

    .bckPeal {
        background: #ffffff;
        border-style: none;
        min-width: 150px;
        cursor: pointer;
    }

    .Report2 {
        background: #ffffff;
        border-style: solid;
        border-width: 4px;
        border-radius: 5px;
        border-color: darkgreen;
        min-width: 900px;
    }

    .isnegative {
      color: red;
      background: #99ffff;
      font-weight: bolder;
      border-style: solid;
      border-width: 1px;
      border-color: blue;
      padding-left: 3px;
      padding-right: 3px;
  }

    .negativecell {
      font-weight: normal;
      color: red;
      border-style: solid;
      border-width: 1px;
      border-color: blue;
      background: #ffffff;
      padding-left: 3px;
      padding-right: 3px;
  }

  </style>

  <script>
    $(document).ready(function(){
      checkbrowser();
      var browser_tboxwidth = "190px";
      if (document.getElementById("browsertype").value == "Firefox") {
        browser_tboxwidth = "180px";
      }

      document.getElementById("selected_BetType").style.width = browser_tboxwidth;
      document.getElementById("selected_account").style.width = browser_tboxwidth;
      document.getElementById("selected_ticket").style.width = browser_tboxwidth;

      getToday();

      // alert(screen.width);
      var closebuttleft = screen.width - 80;
      document.getElementById("closebutton2").style.left = closebuttleft + "px";
      document.getElementById("excelbutton2").style.left = closebuttleft + "px";
      document.getElementById("downloadbutton2").style.left = closebuttleft + "px";
      document.getElementById("prevbutton2").style.left = closebuttleft + "px";

      document.getElementById("copybutton2").style.left = closebuttleft + "px";
      document.getElementById("printbutton2").style.left = closebuttleft + "px";      
    })
  </script>

  <!--script>
    document.addEventListener("DOMContentLoaded", () => {
      checkbrowser();
      var browser_tboxwidth = "190px";
      if (document.getElementById("browsertype").value == "Firefox") {
        browser_tboxwidth = "180px";
      }

      document.getElementById("selected_BetType").style.width = browser_tboxwidth;
      document.getElementById("selected_account").style.width = browser_tboxwidth;
      document.getElementById("selected_ticket").style.width = browser_tboxwidth;

      getToday();

      // alert(screen.width);
      var closebuttleft = screen.width - 80;
      document.getElementById("closebutton2").style.left = closebuttleft + "px";
      document.getElementById("excelbutton2").style.left = closebuttleft + "px";
      document.getElementById("downloadbutton2").style.left = closebuttleft + "px";
      document.getElementById("prevbutton2").style.left = closebuttleft + "px";

      document.getElementById("copybutton2").style.left = closebuttleft + "px";
      document.getElementById("printbutton2").style.left = closebuttleft + "px";

    });
  </script-->

  <script>
    function showArea(area){
      if (area == "L1") {
        document.getElementById("L1Area").style.display = "inline-block";
        document.getElementById("L2Area").style.display = "none";
        document.getElementById("L3Area").style.display = "none";
        document.getElementById("L4Area").style.display = "none";
      }
      else if (area == "L2") {
        document.getElementById("L1Area").style.display = "none";
        document.getElementById("L2Area").style.display = "inline-block";
        document.getElementById("L3Area").style.display = "none";
        document.getElementById("L4Area").style.display = "none";
        document.getElementById('prevbutton2').setAttribute("onclick", "showArea('L1')");
      }
      else if (area == "L3") {
        document.getElementById("L1Area").style.display = "none";
        document.getElementById("L2Area").style.display = "none";
        document.getElementById("L3Area").style.display = "inline-block";
        document.getElementById("L4Area").style.display = "none";
        document.getElementById('prevbutton2').setAttribute("onclick", "showArea('L2')");
      }
      else if (area == "L4") {
        document.getElementById("L1Area").style.display = "none";
        document.getElementById("L2Area").style.display = "none";
        document.getElementById("L3Area").style.display = "none";
        document.getElementById("L4Area").style.display = "inline-block";
        document.getElementById('prevbutton2').setAttribute("onclick", "showArea('L3')");
      }
    }
  </script>

  <script>
    function getToday(){
      alert("getToday");
      var today = new Date();
      var sdate = today.getFullYear() + "-" + ("0" + (today.getMonth() + 1)).slice(-2) + "-" + today.getDate() ;
      var edate = today.getFullYear() + "-" + ("0" + (today.getMonth() + 1)).slice(-2) + "-" + today.getDate() ;

      document.getElementById("dtDateS").value = sdate;
      document.getElementById("dtDateE").value = edate;

      GenOverallReport();
    }
  </script>

  <script>
    function getYesterday(){
      $.ajax({
            type: "POST",
            url: "http://localhost:5106/API/GetYesterday",
            data: JSON.stringify({ "InputText": "" }),
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            crossDomain: true,
            success: function (response) {
              var today = response.ReturnText;
              var sdate = today ;
              var edate = today ;

              document.getElementById("dtDateS").value = sdate;
              document.getElementById("dtDateE").value = edate;

              GenOverallReport();

            },
            failure: function (response) {
                console.log("failure");
            },
            error: function (response, status) {
                console.log("error");
            }
        });
    }
  </script>


  <script>
    function get7Days(){
      $.ajax({
            type: "POST",
            url: "http://localhost:5106/API/Get7Days",
            data: JSON.stringify({ "InputText": "" }),
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            crossDomain: true,
            success: function (response) {
              var sdate = response.StartDate ;
              var edate = response.EndDate ;

              document.getElementById("dtDateS").value = sdate;
              document.getElementById("dtDateE").value = edate;

              GenOverallReport();
            },
            failure: function (response) {
                console.log("failure");
            },
            error: function (response, status) {
                console.log("error");
            }
        });
    }
  </script>

  <script>
    function get14Days(){
      $.ajax({
            type: "POST",
            url: "http://localhost:5106/API/Get14Days",
            data: JSON.stringify({ "InputText": "" }),
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            crossDomain: true,
            success: function (response) {
              // alert(response.ReturnText);
              // var today = response.StartDate;

              var sdate = response.StartDate ;
              var edate = response.EndDate ;

              document.getElementById("dtDateS").value = sdate;
              document.getElementById("dtDateE").value = edate;

              GenOverallReport();

            },
            failure: function (response) {
                console.log("failure");
            },
            error: function (response, status) {
                console.log("error");
            }
        });
    }
  </script>

  <script>
    function hidemenu(){
      // alert("am clicked");

      checkbrowser();

      var browser_tboxwidth = "240px";

      if (document.getElementById("browsertype").value == "Firefox") {
        browser_tboxwidth = "180px";
      }

      if ( document.getElementById("myDIV").getAttribute("data-viewstate")  == "small" ) {
        var brleft = "35px";
        var brmleft = "10px";
        var brburleft = "5px";

        var brbtnleft = "35px";
        var brbtnmleft = "10px";

        document.getElementById("menuDiv").style = "display:none";
        document.getElementById("myDIV").style.left = brleft;
        document.getElementById("myDIV").style.position = "absolute";
        document.getElementById("myDIV").style.width = "95%";
        document.getElementById("myDIV").style.marginLeft  = brmleft;
        document.getElementById("mySearchElements").style.width = "95%";
        document.getElementById("mySearchElements").style.left = brleft;
        document.getElementById("mySearchElements").style.marginLeft  = brmleft;
        document.getElementById("myDIV").setAttribute("data-viewstate", "big");

        document.getElementById("L1Area").style.width = "95%";
        document.getElementById("L1Area").style.left = brleft;
        document.getElementById("L1Area").style.marginLeft  = brmleft;

        document.getElementById("L2Area").style.width = "95%";
        document.getElementById("L2Area").style.left = brleft;
        document.getElementById("L2Area").style.marginLeft  = brmleft;

        document.getElementById("L3Area").style.width = "95%";
        document.getElementById("L3Area").style.left = brleft;
        document.getElementById("L3Area").style.marginLeft  = brmleft;

        document.getElementById("L4Area").style.width = "95%";
        document.getElementById("L4Area").style.left = brleft;
        document.getElementById("L4Area").style.marginLeft  = brmleft;

        document.getElementById("burgerimg").setAttribute("src", "http://localhost:5106/plus.png")
        document.getElementById("burgerimg").style.display = "absolute";
        document.getElementById("burgerlink").style.left = brburleft;
        document.getElementById("burgerimg").style.left = brburleft;
        document.getElementById("burgerlink").style.display = "absolute";
        document.getElementById("myButtons").style.left = brbtnleft;
        document.getElementById("myButtons").style.marginLeft  = brbtnmleft;

        document.getElementById("selected_BetType").style.width = browser_tboxwidth;
        document.getElementById("selected_account").style.width = browser_tboxwidth;
        document.getElementById("selected_ticket").style.width = browser_tboxwidth;
      }
      else {
        var brleft = "281px";
        var brmleft = "83px";
        var brburleft = "320px";

        document.getElementById("menuDiv").style.display = "block";
        document.getElementById("myDIV").style.left = brleft;
        document.getElementById("myDIV").style.position = "absolute";
        document.getElementById("myDIV").style.width = "80%";
        document.getElementById("myDIV").style.marginLeft  = brmleft;
        document.getElementById("mySearchElements").style.width = "80%";
        document.getElementById("mySearchElements").style.left = brleft;
        document.getElementById("mySearchElements").style.marginLeft  = brmleft;

        document.getElementById("L1Area").style.width = "80%";
        document.getElementById("L1Area").style.left = brleft;
        document.getElementById("L1Area").style.marginLeft  = brmleft;

        document.getElementById("L2Area").style.width = "95%";
        document.getElementById("L2Area").style.left = brleft;
        document.getElementById("L2Area").style.marginLeft  = brmleft;

        document.getElementById("L3Area").style.width = "95%";
        document.getElementById("L3Area").style.left = brleft;
        document.getElementById("L3Area").style.marginLeft  = brmleft;

        document.getElementById("L4Area").style.width = "95%";
        document.getElementById("L4Area").style.left = brleft;
        document.getElementById("L4Area").style.marginLeft  = brmleft;

        document.getElementById("myDIV").setAttribute("data-viewstate", "small");
        document.getElementById("burgerimg").setAttribute("src", "http://localhost:5106/cross.png")
        document.getElementById("burgerimg").style.display = "absolute";
        document.getElementById("burgerlink").style.left = brburleft;
        document.getElementById("burgerimg").style.left = brburleft;
        document.getElementById("burgerlink").style.display = "absolute";
        document.getElementById("myButtons").style.left = brleft;
        document.getElementById("myButtons").style.marginLeft  = "75px";

        // alert(browser_tboxwidth);

        document.getElementById("selected_BetType").style.width = browser_tboxwidth;
        document.getElementById("selected_account").style.width = browser_tboxwidth;
        document.getElementById("selected_ticket").style.width = browser_tboxwidth;
      }
    }
  </script>
  <script>
    function checkbrowser(){
      // alert(navigator.userAgent);
      var uag = navigator.userAgent;
      var browsertype = "";

      // Firefox 1.0+
      if (uag.search("Firefox") != -1) {
        browsertype = "Firefox";
      }
      if ((uag.search("Chrome") != -1)) {
        browsertype = "Chrome";
      }
      if ((uag.search("Edg/") != -1)) {
        browsertype = "Edge";
      }
      if ((uag.search("OPR/") != -1)) {
        browsertype = "Opera";
      }
      if ((uag.search("safari") != -1)) {
        browsertype = "Safari";
      }
      
      document.getElementById("browsertype").value = browsertype;

      var output = 'Detecting browsers:<hr>';
      output += document.getElementById("browsertype").value;
      document.getElementById("CheckingArea").innerHTML = output;
    }
  </script>

  <script>
      function EnableButtons() {
          document.getElementById("btnOverall").disabled = false; 
          document.getElementById("btnTicket").disabled = false; 
          document.getElementById("btnAccounts").disabled = false;
          document.getElementById("btnBetTypes").disabled = false;

          document.getElementById("btnOverall").style.cursor = "pointer";
          document.getElementById("btnTicket").style.cursor = "pointer";
          document.getElementById("btnAccounts").style.cursor = "pointer";
          document.getElementById("btnBetTypes").style.cursor = "pointer";
      }
  </script>

  <script>
      function DisableButtons() {
          document.getElementById("btnOverall").disabled = true; 
          document.getElementById("btnTicket").disabled = true; 
          document.getElementById("btnAccounts").disabled = true;
          document.getElementById("btnBetTypes").disabled = true;

          document.getElementById("btnOverall").style.cursor = "none";
          document.getElementById("btnTicket").style.cursor = "none";
          document.getElementById("btnAccounts").style.cursor = "none";
          document.getElementById("btnBetTypes").style.cursor = "none";          
      }
  </script>

  <script>
      function GenOverallReport() {
          document.getElementById("CheckingArea").style.display = "none";

          var txt = "<img src='http://localhost:5106/clock.gif' />";
          document.getElementById("L1Area").style.textAlign = "center";
          document.getElementById("L1Area").innerHTML = txt;

          document.getElementById("L1Area").style.display = "inline-block";
          document.getElementById("L2Area").style.display = "none";
          document.getElementById("L3Area").style.display = "none";
          document.getElementById("L4Area").style.display = "none";

          document.getElementById("prevbutton2").disabled = true;
          document.getElementById("prevbutton2").style.cursor = "none";

          document.getElementById("downloadbutton2").style.display = "none";

          // DisableButtons();

          var today = new Date();
          var sdate = today.getFullYear() + "-" + (today.getMonth() + 1) + "-" + today.getDate();
          var edate = today.getFullYear() + "-" + (today.getMonth() + 1) + "-" + today.getDate();
          
          var StartDate = document.getElementById("dtDateS").value + " 00:00:00";
          var EndDate = document.getElementById("dtDateE").value + " 23:59:59";

          $.ajax({
              type: "POST",
              url: "http://localhost:5106/API/GetOverallReport",
              data: JSON.stringify({ "StartDate": StartDate, "EndDate": EndDate }),
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              crossDomain: true,
              success: function (response) {
                  document.getElementById("L1Area").style.textAlign = "left";
                  document.getElementById("jsondata").innerText = JSON.stringify(response);
                  var mydata = JSON.parse(document.getElementById("jsondata").innerText);

                  var myrows = mydata.length;
                  var TotalTOver = 0;
                  var TotalPending = 0;
                  var TotalMemberWL = 0;
                  var TotalAgentWL = 0;
                  var TotalComWL = 0;
                  var TotalMAWL = 0;
                  var TotalSMWL = 0;
                  txt = "<table width='1400px' style='font-size:12px;' cellpadding=0 cellspacing=0>";
                  txt = txt + "<tr>";
                  txt = txt + "<td class='cellborder cellleft'>Bet Type</td>";
                  txt = txt + "<td class='cellborder cellright'>Turn Over</td>";
                  txt = txt + "<td class='cellborder cellright'>Pending</td>";
                  txt = txt + "<td class='cellborder cellright'>Member W/L</td>";
                  txt = txt + "<td class='cellborder cellright'>Agent W/L</td>";
                  txt = txt + "<td class='cellborder cellright'>Com W/L</td>";
                  txt = txt + "<td class='cellborder cellright'>MA W/L</td>";
                  txt = txt + "<td class='cellborder cellright'>SM W/L</td>";
                  txt = txt + "</tr>";
                  for (let i = 0; i < myrows; i++) {
                      txt = txt + "<tr>";
                      txt = txt + "<td class='celldata cellleft'><span class='bckPeal cellleft' style='min-width:200px;font-weight:bold;' onclick='DrillBetType(this)' data-BetType='" + mydata[i].BetType + "'>" + mydata[i].BetType + "</span></td>";

                      txt = txt + "<td class='celldata cellright'>" + formatcomma( Number(mydata[i].TOver).toFixed(4))  + "</td>";
                      txt = txt + "<td class='celldata cellright'>" + formatcomma( Number(mydata[i].Pending).toFixed(4))  + "</td>";
                      if (Number(mydata[i].MemberWinLose) < 0) {
                          txt = txt + "<td class='negativecell cellright'>" + formatcomma(Number(mydata[i].MemberWinLose).toFixed(4)) + "</td>";
                      }
                      else {
                          txt = txt + "<td class='celldata cellright'>" + formatcomma(Number(mydata[i].MemberWinLose).toFixed(4)) + "</td>";
                      }

                      if (Number(mydata[i].AgentWinLose) >= 0) {
                          txt = txt + "<td class='celldata cellright'>" + formatcomma( Number(mydata[i].AgentWinLose).toFixed(4) ) + "</td>";
                      }
                      else {
                          txt = txt + "<td class='negativecell cellright'>" + formatcomma( Number(mydata[i].AgentWinLose).toFixed(4) ) + "</td>";
                      }

                      if (Number(mydata[i].ComWinLose) >= 0) {
                          txt = txt + "<td class='celldata cellright'>" + formatcomma( Number(mydata[i].ComWinLose).toFixed(4) ) + "</td>";
                      }
                      else {
                          txt = txt + "<td class='negativecell cellright'>" + formatcomma( Number(mydata[i].ComWinLose).toFixed(4) ) + "</td>";
                      }
                      txt = txt + "<td class='celldata cellright'>" + formatcomma( Number(mydata[i].MAWinLose).toFixed(4) ) + "</td>";
                      txt = txt + "<td class='celldata cellright'>" + formatcomma( Number(mydata[i].SMWinLose).toFixed(4) ) + "</td>";

                      txt = txt + "</tr>";
                      TotalTOver = TotalTOver + Number(mydata[i].TOver.toString());
                      TotalPending = TotalPending + Number(mydata[i].Pending.toString());
                      TotalMemberWL = TotalMemberWL + Number(mydata[i].MemberWinLose.toString());
                      TotalAgentWL = TotalAgentWL + Number(mydata[i].AgentWinLose.toString());
                      TotalComWL = TotalComWL + Number(mydata[i].ComWinLose.toString());
                      TotalMAWL = TotalMAWL + Number(mydata[i].MAWinLose.toString());
                      TotalSMWL = TotalSMWL + Number(mydata[i].SMWinLose.toString());
                      
                  }
                  
                  txt = txt + "<tr>";
                  txt = txt + "<td class='cellborder'></td>";
                  txt = txt + "<td class='cellborder cellright'>" + formatcomma(TotalTOver.toFixed(4)) + "</td>";
                  txt = txt + "<td class='cellborder cellright'>" + formatcomma(TotalPending.toFixed(4)) + "</td>";
                  if (TotalMemberWL < 0) {
                      txt = txt + "<td class='isnegative cellright'>" + formatcomma(TotalMemberWL.toFixed(4)) + "</td>";
                  }
                  else {
                      txt = txt + "<td class='cellborder cellright'>" + formatcomma(TotalMemberWL.toFixed(4)) + "</td>";
                  }
                  txt = txt + "<td class='cellborder cellright'>" + formatcomma(TotalAgentWL.toFixed(4)) + "</td>";
                  txt = txt + "<td class='cellborder cellright'>" + formatcomma(TotalComWL.toFixed(4)) + "</td>";
                  txt = txt + "<td class='cellborder cellright'>" + formatcomma(TotalMAWL.toFixed(4)) + "</td>";
                  txt = txt + "<td class='cellborder cellright'>" + formatcomma(TotalSMWL.toFixed(4)) + "</td>";
                  txt = txt + "</tr>";
                  
                  document.getElementById("jsondata").innerText = '{ "ReportTitle": "Win/Lose Report by Game - Overall View (Level 1)", "Data" : ' + document.getElementById("jsondata").innerText + '}';
                  document.getElementById("L1Area").innerHTML = txt;
                  configureContentScrollbar();
                  EnableButtons();
                  ShowExcelButtons();
                  // document.getElementById("downloadlink2").href = "http://localhost:5106/ExcelFiles/WinLoseReportBetDetails_2024-06-07-11-53-56.xlsx";
                  // document.getElementById("downloadlink2").prop("disabled", false);
                  // $("#downloadlink2").attr("disabled", "disabled");

                  // console.log("JSON: " + document.getElementById("jsondata").innerText);
                  document.getElementById("HistoryL1").innerHTML = txt;
              },
              failure: function (response) {
                  console.log("failure");
              },
              error: function (response, status) {
                  console.log("error");
              }
          });
      }
  </script>

  <script>
      function DrillBetType(me) {
          document.getElementById("CheckingArea").style.display = "none";

          document.getElementById("L2Area").style.textAlign = "center";
          var txt = "<img src='http://localhost:5106/clock.gif' />";
          document.getElementById("L2Area").innerHTML = txt;

          document.getElementById("L1Area").style.display = "none";
          document.getElementById("L2Area").style.display = "inline-block";
          document.getElementById("L3Area").style.display = "none";
          document.getElementById("L4Area").style.display = "none";

          document.getElementById("prevbutton2").disabled = false;
          document.getElementById("prevbutton2").style.cursor = "pointer";

          document.getElementById("downloadbutton2").style.display = "none";


          DisableButtons();
          
          var BetType = $(me).attr("data-BetType");
          var StartDate = document.getElementById("dtDateS").value + " 00:00:00";
          var EndDate = document.getElementById("dtDateE").value + " 23:59:59";
          // alert(JSON.stringify({ "BetType": BetType, "StartDate": StartDate, "EndDate": EndDate }));
          
          $.ajax({
              type: "POST",
              url: "http://localhost:5106/API/GetOverallByBetType",
              data: JSON.stringify({ "BetType": BetType, "StartDate": StartDate, "EndDate": EndDate }),
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              crossDomain: true,
              success: function (response) {
                  document.getElementById("L2Area").style.textAlign = "left";
                  
                  document.getElementById("jsondataL2").innerText = JSON.stringify(response);
                  var mydata = JSON.parse(document.getElementById("jsondataL2").innerText);
                  var myrows = mydata.length;
                  // console.log("Number of data rows: " + myrows);

                  var ttTOver = 0;
                  var ttTotalWin = 0;
                  var ttTotalLost = 0;
                  var ttPending = 0;

                  var txt1 = "<span style='font-family: Helvetica;font-size: 12px;font-weight:bold;color:red;'>Drill Down on Bet Type: " + BetType + "</span><br>";
                  var txt = "<table style='font-size:12px; width:1400px;' cellpadding=0 cellspacing=0>";
                  txt = txt + "<tr>";
                  txt = txt + "<td class='cellborder cellleft'>User Name</td>";
                  txt = txt + "<td class='cellborder cellleft'>Bill No</td>";
                  txt = txt + "<td class='cellborder cellleft'>Opening Time</td>";
                  txt = txt + "<td class='cellborder cellleft'>Update Time</td>";
                  txt = txt + "<td class='cellborder cellright'>Turn Over</td>";
                  txt = txt + "<td class='cellborder cellright'>Total Win</td>";
                  txt = txt + "<td class='cellborder cellright'>Total Lost</td>";
                  txt = txt + "<td class='cellborder cellright'>Total Pending</td>";
                  txt = txt + "</tr>";

                  for (let i = 0; i < myrows; i++) {
                      txt = txt + "<tr>";
                      txt = txt + "<td class='celldata cellleft' style='max-width:120px;'><span onclick='DrillByUserName(this)' class='bckPeal cellleft' data-UserName='" + mydata[i].UserName + "' data-BetType='" + BetType + "'>" + mydata[i].UserName + "</span></td>";
                      
                      txt = txt + "<td class='celldata cellleft' style='max-width:120px;'><span class='cellleft'>" + mydata[i].BillNo + "</span></td>";
                      txt = txt + "<td class='celldata cellleft' style='max-width:120px;'><span class='cellleft'>" + mydata[i].OpeningTime + "</span></td>";
                      txt = txt + "<td class='celldata cellleft' style='max-width:120px;'><span class='cellleft'>" + mydata[i].UpdateDate + "</span></td>";

                      txt = txt + "<td class='celldata cellright'>" + formatcomma( Number(mydata[i].TurnOver.toString()).toFixed(4) ) + "</td>";
                      txt = txt + "<td class='celldata cellright'>" + formatcomma(Number(mydata[i].TotalWin.toString()).toFixed(4)) + "</td>";
                      txt = txt + "<td class='celldata cellright'>" + formatcomma(Number(mydata[i].TotalLost.toString()).toFixed(4)) + "</td>";
                      txt = txt + "<td class='celldata cellright'>" + formatcomma(Number(mydata[i].TotalPending.toString()).toFixed(4)) + "</td>";
                      txt = txt + "</tr>";

                      ttTOver = ttTOver + Number(mydata[i].TurnOver.toString());
                      ttTotalWin = ttTotalWin + Number(mydata[i].TotalWin.toString());
                      ttTotalLost = ttTotalLost + Number(mydata[i].TotalLost.toString());
                      ttPending = ttPending + Number(mydata[i].TotalPending.toString());
                  }

                  txt = txt + "<tr>";
                  txt = txt + "<td class='cellborder cellleft'></td>";
                  txt = txt + "<td class='cellborder cellright'>" + formatcomma(ttTOver.toFixed(4) ) + "</td>";
                  txt = txt + "<td class='cellborder cellright'>" + formatcomma(ttTotalWin.toFixed(4)) + "</td>";
                  txt = txt + "<td class='cellborder cellright'>" + formatcomma(ttTotalLost.toFixed(4)) + "</td>";
                  txt = txt + "<td class='cellborder cellright'>" + formatcomma(ttPending.toFixed(4)) + "</td>";
                  txt = txt + "</tr>";

                  document.getElementById("L2Area").innerHTML = txt1 + txt;

                  document.getElementById('prevbutton2').setAttribute("onclick", "showArea('L1')");
                  // ShowStickyHeader();
                  // document.getElementById("reportHD").innerHTML = txt1 + txt;
                  document.getElementById("HistoryL2HD").innerHTML = txt1 + txt;
                  document.getElementById("HistoryL2HD").style = "display: none;";
                  // configureContentScrollbar();
                  // EnableButtons();
                  // HideExcelButtons();
                  
                  document.getElementById("jsondataL2").innerText = '{ "ReportTitle": "Win/Lose Report by Game - Drill Down on Bet Type: ' + BetType + ' (Level 2)", "Data" : ' + document.getElementById("jsondataL2").innerText + '}';
                  document.getElementById("HistoryL2").innerHTML = txt;
                  document.getElementById("HistoryL2").style = "display: none;";
                  console.log(document.getElementById("jsondataL2").innerText);
                  // ShowExcelButtonsL3();
                  // ShowExcelButtonsL2();
                  
              },
              failure: function (response) {
                  console.log("failure");
              },
              error: function (response, status) {
                  console.log("error");
              }
          });

          //console.log("done");
          
      }
  </script>

  <script>
    function DrillByUserName(me) {
        document.getElementById("CheckingArea").style.display = "none";

        var txt = "<img src='http://localhost:5106/clock.gif' />";
        document.getElementById("L3Area").style.textAlign = "center";
        document.getElementById("L3Area").innerHTML = txt;

        document.getElementById("L1Area").style.display = "none";
        document.getElementById("L2Area").style.display = "none";
        document.getElementById("L3Area").style.display = "inline-block";
        document.getElementById("L4Area").style.display = "none";

        document.getElementById("downloadbutton2").style.display = "none";

        DisableButtons();

        var BetType = $(me).attr("data-BetType");
        var UserName = $(me).attr("data-UserName");
        var StartDate = document.getElementById("dtDateS").value + " 00:00:00";
        var EndDate = document.getElementById("dtDateE").value + " 23:59:59";

        // alert(JSON.stringify({ "BetType": BetType, "UserName": UserName, "StartDate": StartDate, "EndDate": EndDate }));

        $.ajax({
            type: "POST",
            url: "http://localhost:5106/API/GetOverallByUser",
            data: JSON.stringify({ "BetType": BetType, "UserName": UserName, "StartDate": StartDate, "EndDate": EndDate }),
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            crossDomain: true,
            success: function (response) {
                // alert("success");
                document.getElementById("L3Area").style.textAlign = "left";
                
                document.getElementById("jsondataL3").innerText = JSON.stringify(response);
                var mydata = JSON.parse(document.getElementById("jsondataL3").innerText);
                var myrows = mydata.length;
                // console.log("Number of data rows: " + myrows);

                var ttTOver = 0;
                var ttTotalWinLose = 0;

                var txt1 = "<span style='font-family: Helvetica;font-size: 12px;font-weight:bold;color:red;'>Drill Down on Bet Type: " + BetType + ", User Name: " + UserName + "</span><br>";
                var txt = "<table style='font-size:12px;width:1400px;'>";
                txt = txt + "<tr>";
                txt = txt + "<td class='cellborder cellleft'>Ticket No</td>";
                txt = txt + "<td class='cellborder cellleft'>Opening Time</td>";
                txt = txt + "<td class='cellborder cellright'>Turn Over</td>";
                txt = txt + "<td class='cellborder cellright'>Total Win Lose</td>";
                txt = txt + "</tr>";

                for (let i = 0; i < myrows; i++) {
                    txt = txt + "<tr>";
                    txt = txt + "<td class='celldata cellleft'><button style='min-width:250px;' onclick='DrillByTicket(this)' class='bckPeal cellleft' data-BetType='" + BetType + "' data-TicketNo='" + mydata[i].TicketNo + "' data-UserName='" + UserName + "'>" + mydata[i].TicketNo + "</button></td>";
                    txt = txt + "<td class='celldata cellleft'>" + mydata[i].OpeningTime + "</td>";
                    txt = txt + "<td class='celldata cellright'>" + formatcomma(Number(mydata[i].TurnOver.toString()).toFixed(4)) + "</td>";

                    if (Number(mydata[i].TotalWinLose.toString()) >= 0) {
                        txt = txt + "<td class='celldata cellright'>" + formatcomma(Number(mydata[i].TotalWinLose.toString()).toFixed(4)) + "</td>";
                    }
                    else {
                        txt = txt + "<td class='negativecell cellright'>" + formatcomma(Number(mydata[i].TotalWinLose.toString()).toFixed(4)) + "</td>";
                    }
                    txt = txt + "</tr>";

                    ttTOver = ttTOver + Number(mydata[i].TurnOver.toString());
                    ttTotalWinLose = ttTotalWinLose + Number(mydata[i].TotalWinLose.toString());
                }

                txt = txt + "<tr>";
                txt = txt + "<td class='cellborder cellleft'></td>";
                txt = txt + "<td class='cellborder cellleft'></td>";
                txt = txt + "<td class='cellborder cellright'>" + formatcomma(ttTOver.toFixed(4)) + "</td>";
                if (ttTotalWinLose >= 0) {
                    txt = txt + "<td class='cellborder cellright'>" + formatcomma(ttTotalWinLose.toFixed(4)) + "</td>";
                }
                else {
                    txt = txt + "<td class='isnegative cellright'>" + formatcomma(ttTotalWinLose.toFixed(4)) + "</td>";
                }
                txt = txt + "</tr>";

                document.getElementById("L3Area").innerHTML = txt1 + txt;
                document.getElementById('prevbutton2').setAttribute("onclick", "showArea('L2')");
                // configureContentScrollbar();
                // EnableButtons();
                // ShowStickyHeader();
                // document.getElementById("reportHD").innerHTML = txt1 + txt;
                document.getElementById("HistoryL3HD").innerHTML = txt1 + txt;
                document.getElementById("HistoryL3").innerHTML = txt;
                document.getElementById("HistoryL3HD").style.display = "none";
                document.getElementById("HistoryL3").style.display = "none";
                // HideExcelButtons();
                // ShowExcelButtonsL3();
                document.getElementById("jsondataL3").innerText = '{ "ReportTitle": "Win/Lose Report by Game - Drill Down on Bet Type: ' + BetType + ', User Name: ' + UserName + ' (Level 3)", "Data" : ' + document.getElementById("jsondataL3").innerText + '}';
                
            },
            failure: function (response) {
                console.log("failure");
            },
            error: function (response, status) {
                console.log("error");
            }
        });

        console.log("done");
    }
  </script>

  <script>
    function DrillByTicket(me) {
        document.getElementById("CheckingArea").style.display = "none";

        var txt = "<img src='http://localhost:5106/clock.gif' />";
        document.getElementById("L4Area").style.textAlign = "center";
        document.getElementById("L4Area").innerHTML = txt;

        document.getElementById("L1Area").style.display = "none";
        document.getElementById("L2Area").style.display = "none";
        document.getElementById("L3Area").style.display = "none";
        document.getElementById("L4Area").style.display = "inline-block";

        document.getElementById("downloadbutton2").style.display = "none";

        DisableButtons();
        var StartDate = $("#dtDateS").val() + " 00:00:00";
        var EndDate = $("#dtDateE").val() + " 23:59:59";
        var SelectedUserName = $(me).attr("data-UserName");
        var TicketNo = $(me).attr("data-TicketNo");
        var BetType = $(me).attr("data-BetType");

        console.log(JSON.stringify({ "TicketNo": TicketNo, "Account": SelectedUserName, "BetType": BetType, "StartDate": StartDate, "EndDate": EndDate }));

        $.ajax({
            type: "POST",
            url: "http://localhost:5106/API/DrillOverall_Level4",
            data: JSON.stringify({ "TicketNo": TicketNo, "Account": SelectedUserName, "BetType": BetType, "StartDate": StartDate, "EndDate": EndDate }),
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            crossDomain: true,
            success: function (response) {
                document.getElementById("L4Area").style.textAlign = "left";
                document.getElementById("jsondataL4").innerText = JSON.stringify(response);
                document.getElementById("ReportJSON").innerText = JSON.stringify(response);
                document.getElementById("ReportJSON").style = "display: none;";
                console.log(document.getElementById("ReportJSON").innerText);
                var mydata = JSON.parse(document.getElementById("ReportJSON").innerText);
                var rownum = mydata.length;
                console.log("Total Rows in Report: " + rownum);
                var txt1 = "<span style='font-family: Helvetica;font-size: 12px;font-weight:bold;color:red;'>Drill Down on Bet Type: " + BetType + ", User Name: " + SelectedUserName + ", Ticket No: " + TicketNo  + "</span><br>";

                var txt = "<table style='font-size:12px;width:1400px;' cellpadding=0 cellspacing=0>";
                txt = txt + "<tr >";
                txt = txt + "<td class='cellborder'>Bet Type</td>";
                txt = txt + "<td class='cellborder'>Bet Time</td>";
                txt = txt + "<td class='cellborder'>Bet</td>";
                txt = txt + "<td class='cellborder cellright' >Bet Amount</td>";
                txt = txt + "<td class='cellborder cellright' >Win Loss</td>";
                txt = txt + "</tr>";

                var Total_Recs = 0;
                var Total_TOver = 0;
                var Total_BetAmount = 0;
                var Total_WinMoney = 0;
                var Total_Sum_winlose_AllLOST = 0;
                var Total_Sum_winlose_AllWIN_4d = 0;
                var Total_Sum_winlose_AllWIN_NOT4d = 0;
                var Total_Win_Lose = 0;

                for (i = 0; i < rownum; i++) {
                    txt = txt + "<tr >";
                    txt = txt + "<td class='celldata cellleft'>" + mydata[i].BetType + "</td>";
                    txt = txt + "<td class='celldata cellleft'>" + mydata[i].BetTime + "</td>";
                    var tempbet = mydata[i].Bet;
                    var newbet = tempbet.replaceAll("(", "[");
                    var newbet = newbet.replaceAll(")", "]");
                    txt = txt + "<td class='celldata cellleft'>" + newbet + "</td>";
                    txt = txt + "<td class='celldata cellright'>" + formatcomma(Number(mydata[i].BetAmount).toFixed(4)) + "</td>";
                    if (Number(mydata[i].WinLose) > 0) {
                        txt = txt + "<td class='celldata cellright'>" + formatcomma(Number(mydata[i].WinLose).toFixed(4)) + "</td>";
                    }
                    else {
                        txt = txt + "<td class='celldata cellright negativecell'>" + formatcomma(Number(mydata[i].WinLose).toFixed(4)) + "</td>";
                    }
                    txt = txt + "</tr>";

                    Total_BetAmount = Total_BetAmount + Number(mydata[i].BetAmount.toString());
                    Total_Win_Lose = Total_Win_Lose + Number(mydata[i].WinLose.toString());
                }

                txt = txt + "<tr >";
                txt = txt + "<td class='cellborder'></td>";
                txt = txt + "<td class='cellborder'></td>";
                txt = txt + "<td class='cellborder'></td>";
                txt = txt + "<td class='cellborder cellright' >" + formatcomma(Total_BetAmount.toFixed(4)) + "</td>";
                if (Total_Win_Lose > 0) {
                    txt = txt + "<td class='cellborder cellright' >" + formatcomma(Total_Win_Lose.toFixed(4)) + "</td>";
                }
                else {
                    txt = txt + "<td class='cellborder cellright isnegative' >" + formatcomma(Total_Win_Lose.toFixed(4)) + "</td>";
                }
                txt = txt + "</tr>";


                txt = txt + "</table><br>";
                // HideExcelButtons();
                document.getElementById("L4Area").innerHTML = txt1 + txt;
                document.getElementById('prevbutton2').setAttribute("onclick", "showArea('L3')");
                // configureContentScrollbar();
                // EnableButtons();
                // ShowStickyHeader();
                // document.getElementById("reportHD").innerHTML = txt1 + txt;
                // ShowExcelButtonsL4();

                document.getElementById("jsondataL4").innerText = '{ "ReportTitle": "Win/Lose Report by Game - Drill Down on Bet Type: ' + BetType + ', User Name: ' + SelectedUserName + ', Ticket No: ' + TicketNo + ' (Level 4)", "Data" : ' + document.getElementById("jsondataL4").innerText + '}';
            },
            failure: function (response) {
                console.log("failure");
            },
            error: function (response, status) {
                console.log("error");
            }
        });

        console.log("done");
    }
  </script>

  <script>
      function configureContentScrollbar() {
          document.getElementById("ReportContent").style = "display: block; text-align: center; overflow-y: scroll;scrollbar-color: pink lightblue;"
      }
  </script>

  <script>
    function formatcommadummy(mynum) {
      if (mynum == "null" || mynum == null) {
             alert("Null value found here!!!");
      }

      var numstr = mynum.toString();
      outstr = numstr;
      // alert("before returning: " + outstr);
      return outstr;
    }

  </script>

  <script>
      function padfront(_new, me) {
          var outstr = _new + me;
          return outstr;
      }
  </script>

  <script>
      function formatcomma(mynum) {
          if (mynum == "null" || mynum == null) {
             alert("Null value found here!!!");
          }

          var numstr = mynum.toString();

          var negfactor = -1;
          var isnegative = numstr.indexOf("-");
          if (isnegative == -1) {
              negfactor = 1;
          }
          numstr = numstr.replaceAll("-", "");

          var numlen = numstr.length;
          numstr = numstr.replaceAll(" ", "");
          var decimalpoint = numstr.indexOf(".");
          if (decimalpoint == -1) {
              numstr = numstr + ".00";
              decimalpoint = numstr.indexOf(".");
          }
          
          numlen = numstr.length;
          var newstr = "";
          var decstr = numstr.substr(decimalpoint, numlen);
          var intpart = numstr.substr(0, decimalpoint);

          var balstr = "";
          var outstr = "";
          var threelen = 0;
          var outstr = ""
          var tail = "";
          var head = "";
          var oritail = "";
          var ballen = 0;
          var headlen = 0;
          var demostr = "";

          oritail = tail;
          outstr = head + "--" + oritail;
          balstr = head;

          for (let i = 0; i < 20; i++) {
              if (decimalpoint == -1) {
                  oritail = numstr;
                  break;
              }
              else if (decimalpoint != -1 && intpart.length <= 3) {
                  oritail = numstr;
                  break;
              }
              else if (decimalpoint != -1 && intpart.length > 3) {
                  decimalpoint = numlen;
              }

              // alert("point a");

              if (i == 0) {
                  // alert("point b");

                  head = intpart;
                  tail = decstr;
                  balstr = head;
                  oritail = numstr.substr(decimalpoint, numlen);
                  demostr = "[" + head + "][" + tail + "][" + oritail + "]"
                  ballen = balstr.length;
              }
              else if (i == 0 && numstr.length <= 3) {
                  // alert("point c");
                  oritail = intpart + decstr;
                  break;
              }

              else {
                  // alert("point d");

                  headlen = balstr.length - 3;
                  ballen = 3;
                  numlen = balstr.length;

                  if (headlen >= 3) {
                    // alert("point d1");

                      head = balstr.substr(0, headlen);
                      // alert("point d1.1");
                      tail = balstr.substr(headlen, numlen); // cheah modi here
                      // alert("point d1.2");
                      oritail = padfront(",", tail) + oritail;
                      // alert("point d1.3");
                      balstr = head;
                      // alert("point d1.4");

                  }
                  else if (headlen < 3 && headlen != 0) {
                    // alert("point d2");
                      // console.log("at" + i + ", The headlen is only: " + headlen);
                      head = balstr.substr(0, headlen);
                      tail = balstr.substr(headlen, numlen);
                      demostr = "[" + head + "][" + tail + "][" + oritail + "]"
                      // console.log(demostr);
                      oritail = head + padfront(",", tail) + oritail;
                      break;
                  }
                  else {
                    // alert("point d3");
                      // console.log("at" + i + ", The headlen is only: " + headlen);
                      head = balstr.substr(0, headlen);
                      tail = balstr.substr(headlen, numlen);
                      demostr = "[" + head + "][" + tail + "][" + oritail + "]"
                      // console.log(demostr);
                      oritail = head + tail + oritail;
                      break;
                  }

                  // alert("point d4");
              }

              // alert("point y");
          }

          if (oritail.indexOf(".") != -1) {
              outstr = oritail;
          }
          else {
              outstr = oritail + decstr;
          }
          if (negfactor == -1) {
              outstr = "-" + outstr;
          }
          
          // alert("point z");
          return outstr;
      }
  </script>

  <script>
    function showdate()
    {
      // alert(document.getElementById("dtDateS").value);
    }
  </script>

</head>
<body>


<div class="container-fluid">
    <div id="menuDiv" >
      <span>Main Page</span>
      
    </div>

    <div id="myButtons" onclick="hidemenu()">
      <span class="buttspan">BetHistory</span><div style="width:8px;display:inline-block;opacity: 0;"></div>
      <span class="buttspan">Win/Lost Report</span><div style="width:8px;display:inline-block;opacity: 0;"></div>
      <span class="buttspan activeButt">WinLostReportByGame</span><div style="width:8px;display:inline-block;opacity: 0;"></div>
      <span class="buttspan">OutstandingReport</span><div style="width:8px;display:inline-block;opacity: 0;"></div>
      <span class="buttspan">PragmaticPlaySlot Report</span><div style="width:8px;display:inline-block;opacity: 0;"></div>
      <span class="buttspan">ResetReport</span><div style="width:8px;display:inline-block;opacity: 0;"></div>
    </div>

    <div id="myDIV" onclick="hidemenu()" data-viewstate="small">
      <span>Search Condition</span>
    </div>
    <div id="mySearchElements"  data-viewstate="small">
      <div style="display: inline-block;">
        <label class="mylabel">DateS</label><br>
        <input id="dtDateS" type="date" placeholder="" class="datebox curlyborder" onchange="showdate()"><div style="width:8px;display:inline-block;opacity: 0;"></div>
      </div>
      <div style="display: inline-block;">
        <label class="mylabel">DateE</label><br>
        <input id="dtDateE" type="date" placeholder=""  class="datebox curlyborder">
      </div>
      <div style="display: inline-block;">
        <a onclick="GenOverallReport()" id="btnOverall" ><img src='http://localhost:5106/report.png' class="btnOverall"></a>
        <div style="width:10px;display:inline-block;opacity: 0;"></div>
      </div> 

      <div style="display: inline-block;">
        <span class="daterange" onclick="getToday()">Today</span><div style="width:3px;display:inline-block;opacity: 0;"></div>
        <span class="daterange" onclick="getYesterday()">Yesterday</span><div style="width:3px;display:inline-block;opacity: 0;"></div>
        <span class="daterange" onclick="get7Days()">Last 7 Days</span><div style="width:3px;display:inline-block;opacity: 0;"></div>
        <span class="daterange" onclick="get14Days()">Last 14 Days</span><div style="width:3px;display:inline-block;opacity: 0;"></div>
      </div>

      <!-- <br> -->
      <div style="width:50px;display:inline-block;opacity: 0;"></div>
      <div style="display: inline-block;">
        <label class="mylabel">Ticket</label><br>
        <input type="text" id="selected_ticket" class="curlyborder">
        <a class="imglink" id="btnTicket"><img src='http://localhost:5106/red_binoculous.png' class="imgbutton"></a>
        <div style="width:8px;display:inline-block;opacity: 0;"></div>
      </div>
      <div style="display: inline-block;">
        <label class="mylabel">Account</label><br>
        <input type="text" id="selected_account" class="curlyborder">
        <a class="imglink" id="btnAccounts"><img src='http://localhost:5106/red_binoculous.png' class="imgbutton"></a>
        <div style="width:8px;display:inline-block;opacity: 0;"></div>
      </div>

      <div style="display: inline-block;">
        <label class="mylabel">Bet Type</label><br>
        <input type="text" id="selected_BetType" class="curlyborder">
        <a class="imglink" id="btnBetTypes"><img src='http://localhost:5106/red_binoculous.png' class="imgbutton"></a>
        <!-- <div style="width:45px;display:inline-block;opacity: 0;"></div> -->
      </div>

      <div style="width:5px;display:inline-block;opacity: 0;"></div>
      <div style="display: inline-block;">
        <span class="daterange" >Clear</span><div style="width:5px;display:inline-block;opacity: 0;"></div>
        <span class="searchButton" onclick="GenOverallReport()">Search</span><div style="width:5px;display:inline-block;opacity: 0;"></div>
      </div>
    </div>
</div>
<a id="burgerlink" class="burger"><img onclick="hidemenu()" id="burgerimg" class="burger" src="http://localhost:5106/cross.png"></a>
<div id="CheckingArea">.</div>
<div id="L1Area"></div>
<div id="L2Area"></div>
<div id="L3Area"></div>
<div id="L4Area"></div>
<button id="closebutton2" ><i class="fa fa-close"></i></button>
<button id="copybutton2" ><i class="fa fa-clone" style="font-size:15px"></i></button>
<button id="printbutton2" ><i class="fa fa-print" style="font-size:15px"></i></button>
<button id="excelbutton2" ><i class="fa fa-file-excel-o" style="font-size:15px;color:green;"></i></button>
<button id="downloadbutton2" ><i class="fa fa-download" style="font-size:15px;color:red;"></i></i></button>
<button id="prevbutton2" ><i class="fa fa-mail-reply" style="font-size:15px;color:red"></i></i></button>
<!-- <button id="prevbutton2" ><i class="fa-solid fa-backward" style="font-size:15px;color:red"></i></button> -->
<div id="HiddenInfo">
  <input type="text" id="browsertype" value="">
</div>

<div id="Report" style="display:none;"></div>
<div id="ReportJSON" style="display:none;"></div>
<div id="HistoryL1" style="display:none;"></div>
<div id="HistoryL1HD" style="display:none;"></div>
<div id="HistoryL2" style="display:none;"></div>
<div id="HistoryL2HD" style="display:none;"></div>
<div id="HistoryL3" style="display:none;"></div>
<div id="HistoryL3HD" style="display:none;"></div>

<div id="pop01" style="display:none;"></div>
<div id="div_result" style="display:none;"></div>
<div id="div_result_header" style="display:none;"></div>
<div id="curPeriods" style="display:none;"></div>
<div id="closebutt" style="display:none;"><button style="font-size:24px; float:right;" onclick="closePop()"><i class="fa fa-close"></i></button></div>
<div id="Report2" class="col-md-11 col-sm-11"></div>
<div id="pop02" style="display:none;"></div>
<div style="display: none;" id="closebutt2"></div>
<div id="reportHD"></div>
<div id="jsondata" style="display:none;"></div>
<div id="jsondataL2" style="display:none;"></div>
<div id="jsondataL3" style="display:none;"></div>
<div id="jsondataL4" style="display:none;"></div>
<!-- <a id="downloadlink2" href="" target="_blank" style="display:none;" download>
    <img src="http://localhost:5106/red_download.jpg" style="width:30px;height:30px;border-style: solid; border-width: 1px; border-color:grey;">
</a>
 --><button id="prevbuttonL2" style="display: none; font-size:26px; float:right;" onclick="ShowPrevPageL2()"><img id='excelimg' src='http://localhost:5106/prev.png' style="width: 20px; height: 20px;" /></button>
<button id="prevbuttonL3" style="display: none; font-size:26px; float:right;" onclick="ShowPrevPageL3()"><img id='excelimg' src='http://localhost:5106/prev.png' style="width: 20px; height: 20px;" /></button>
<button id="prevbuttonL4" style="display: none; font-size:26px; float:right;" onclick="ShowPrevPageL4()"><img id='excelimg' src='http://localhost:5106/prev.png' style="width: 20px; height: 20px;" /></button>
<br />
<div id="ReportJSON2"></div>
<input type="text" id="TempPrice" value="" style='display:none;' /><input type="text" id="TempDiscPrice" value="" style='display:none;' /><input type="text" id="TempWinMoney" value="" style='display:none;' />
</body>
</html>