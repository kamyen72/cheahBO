"use strict";app.factory("MemberShipRepository",["$http","ngAuthSettings",function(t,n){var e={};function i(e){"200"===e&&$location.path("login")}return e.findSiteMap=function(e){return e.ApiPath="/api/MemberShip/FindSiteMap",t.post(n.apiServiceBaseUri+e.ApiPath,e).then(function(e,t){return i(e.data.APIRes.ResCode),e},function(e,t){return e})},e.findUser=function(e){return e.ApiPath="/api/GameDealerMemberShip/FindMember",t.post(n.apiServiceBaseUri+e.ApiPath,e).then(function(e,t){return i(e.data.APIRes.ResCode),e},function(e,t){return e})},e.findAgentMember=function(e){return e.ApiPath="/api/MemberShip/FindAgentMember",t.post(n.apiServiceBaseUri+e.ApiPath,e).then(function(e,t){return i(e.data.APIRes.ResCode),e},function(e,t){return e})},e.getUser=function(e){return e.ApiPath="/api/MemberShip/GetMember",t.post(n.apiServiceBaseUri+e.ApiPath,e).then(function(e,t){return i(e.data.APIRes.ResCode),e},function(e,t){return e})},e.findLoginHistory=function(e){return e.ApiPath="/api/MemberShip/findLoginHistory",t.post(n.apiServiceBaseUri+e.ApiPath,e).then(function(e,t){return i(e.data.APIRes.ResCode),e},function(e,t){return e})},e.forgetPwd=function(e){return e.ApiPath="/api/MemberShip/ForgetPwd",t.post(n.apiServiceBaseUri+e.ApiPath,e).then(function(e,t){return i(e.data.APIRes.ResCode),e},function(e,t){return e})},e.login=function(e){return e.ApiPath="/api/GameDealerMemberShip/Login",t.post(n.apiServiceBaseUri+e.ApiPath,e).then(function(e,t){return i(e.data.APIRes.ResCode),e},function(e,t){return e})},e.logout=function(e){return e.ApiPath="/api/GameDealerMemberShip/Logout",t.post(n.apiServiceBaseUri+e.ApiPath,e).then(function(e,t){return i(e.data.APIRes.ResCode),e},function(e,t){return e})},e.addMember=function(e){return e.ApiPath="/api/GameDealerMemberShip/AddMember",t.post(n.apiServiceBaseUri+e.ApiPath,e).then(function(e,t){return i(e.data.APIRes.ResCode),e},function(e,t){return e})},e.updateUser=function(e){return e.ApiPath="/api/GameDealerMemberShip/UpdateMember",t.post(n.apiServiceBaseUri+e.ApiPath,e).then(function(e,t){return i(e.data.APIRes.ResCode),e},function(e,t){return e})},e.delMember=function(e){return e.ApiPath="/api/GameDealerMemberShip/DelMember",t.post(n.apiServiceBaseUri+e.ApiPath,e).then(function(e,t){return i(e.data.APIRes.ResCode),e},function(e,t){return e})},e.changePwdMember=function(e){return e.ApiPath="/api/GameDealerMemberShip/ChangePwdMember",t.post(n.apiServiceBaseUri+e.ApiPath,e).then(function(e,t){return i(e.data.APIRes.ResCode),e},function(e,t){return e})},e.changeGameDealerPwdMemberByBack=function(e){return e.ApiPath="/api/GameDealerMemberShip/ChangePwdMemberByBack",t.post(n.apiServiceBaseUri+e.ApiPath,e).then(function(e,t){return i(e.data.APIRes.ResCode),e},function(e,t){return e})},e.genValidatorCode=function(){var e={ApiPath:"/api/GameDealerMemberShip/GenValidatorCode"};return t.post(n.apiServiceBaseUri+e.ApiPath,e).then(function(e,t){return i(e.data.APIRes.ResCode),e},function(e,t){return e})},e}]);
"use strict";app.factory("RepositoryHelper",["$http","$rootScope","$location","ngAuthSettings","localStorageService","blockUI",function(s,o,r,n,g,i){var e={};return e.post=function(e){return s.post(n.apiServiceBaseUri+e.ApiPath,e).then(function(e,s,t){return e&&e.status?("200"===e.data.APIRes.ResCode&&(a={Title:e.data.APIRes.FnName,ResMessage:e.data.APIRes.ResMessage,ResCode:e.data.APIRes.ResMessage},g.get("UserToken")&&(a=a,g.remove("UserToken"),g.remove("UserName"),g.remove("UserInfo"),g.remove("PlatformSettings"),n.modalMsg.title="error "+a.Title,n.modalMsg.msg=a.ResMessage,n.modalMsg.type=a.ResCode,n.modalMsg.linkTo="login",r.path("login"),i.stop())),"203"===e.data.APIRes.ResCode&&(n.modalMsg.title=e.data.APIRes.Title,n.modalMsg.msg=e.data.APIRes.ResMessage,n.modalMsg.type=e.data.APIRes.ResCode,r.path("home"),o.$broadcast("changeMemberInfo")),e):{};var a},function(e,s,t){return e})},e}]);