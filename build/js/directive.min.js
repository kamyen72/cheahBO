app.directive("pagination",["$parse","$q",function(e,a){return{restrict:"E",replace:!0,scope:{options:"=",pageChanged:"&"},template:`
             <section>
                <div class="col-12 mt-4 text-center">
                    <div>
                        {{ 'Show' | translate }}
                        <select ng-model="options.PageSize" ng-change="_PageChanged(1)">
                            <option ng-value="10">10</option>
                            <option ng-value="20">20</option>
                            <option ng-value="50">50</option>
                            <option ng-value="100">100</option>
                        </select> 
                        {{ 'Entries' | translate }}
                    </div>
                    <div class="tab-btns flex">
                        <button class="btn rectangle-btn" type="button"
                                ng-if="options.CurrentPage > options.PageArray[0]"
                                ng-click="_PageChanged(1)">
                            <i class="fa fa-angle-double-left" aria-hidden="true"></i>
                            <span class="sr-only">Previous</span>
                        </button>
                        <button ng-class="{'btn rectangle-btn active': (page == options.CurrentPage),
                                              'btn rectangle-btn': !(page == options.CurrentPage)}"
                                ng-if="page < options.PageRangeMax && page >= (options.PageRangeMin - 1)"
                                ng-repeat="page in options.PageArray"
                                ng-click="_PageChanged(page)" type="button">
                            {{page}}
                        </button>
                        <button class="btn rectangle-btn" type="button"
                                ng-if="options.CurrentPage < options.PageArray[(options.PageArray.length - 1)]"
                                ng-click="_PageChanged(options.PageArray[(options.PageArray.length - 1)])">
                            <i class="fa fa-angle-double-right" aria-hidden="true"></i>
                            <span class="sr-only">Next</span>
                        </button>
                    </div>
                </div>
            </section>`,controller:["$scope","$attrs",function(n,e){n._PageChanged=function(e){var a=n.options;0<e?(e<=a.PageArray[a.PageArray.length-1]?a.CurrentPage=e:(a.CurrentPage=a.PageArray[a.PageArray.length-1],a.thisPage=a.PageArray[a.PageArray.length-1]),a.PageRangeMin=e,a.PageRangeMax=e+9):(a.CurrentPage=1,a.thisPage=1,a.PageRangeMin=1,a.PageRangeMax=10),a.CurrentPage||(a.CurrentPage=1),a.thisPage===a.CurrentPage&&a.thisPageSize===a.PageSize||(a.thisPageSize=a.PageSize,n.pageChanged())}}],link:function(e,a,n){e.$watch("options",function(){0<e.options.TotalItems&&function(e){if(0<e.TotalItems){var a=Math.ceil(e.TotalItems/e.PageSize);e.TotalPage=a,e.PageArray=[];for(var n=1;n<=a;n++)e.PageArray.push(n);e.CurrentPage>e.PageArray[e.PageArray.length-1]&&(e.CurrentPage=1,e.thisPage=1),0<e.CurrentPage?(e.PageRangeMin=e.CurrentPage,e.PageRangeMax=e.CurrentPage+9):(e.PageRangeMin=1,e.PageRangeMax=10)}}(e.options)})}}}]);
app.directive("inputUploadBase64",["$parse","$q",function(e,o){function t(e){return"data:image/"+e.extension+"; base64, "+e.file}function n(i,l){var e,t,n,r=i.name.split(".").pop().toLowerCase();return-1<["jpg","jpeg","png"].indexOf(r)&&(e=i,t=new o.defer,(n=new FileReader).onloadend=function(e){t.resolve(e.target.result)},n.onerror=function(e){t.reject(e.target.error)},n.readAsDataURL(e),t.promise.then(function(e){l({file:e.split(",")[1],name:i.name,extension:r})}))}return{restrict:"E",replace:!0,scope:{fileModel:"="},template:`<div>
                        <div ng-if="_imgSrc.length > 0">
                            <div ng-repeat="info in _imgSrc">
                                <img ng-src="{{info.src}}" class="img-responsiv" width="100%" id="uploadImage" />
                                <input type="button" class="btn btn-danger" value="Remove Img" ng-click="remove($index)">
                            </div>
                        </div>
                        <input id="uploadInput" type="file" multiple placeholder="" class="form-control input-md" accept="image/*" />
                    </div>`,controller:["$scope","$attrs",function(i,e){i._imgSrc=[],i.remove=function(e){i._imgSrc.splice(e,1),i.fileModel.splice(e,1),i.inputFile[0].value=""},i.multiple=!1;for(var l=0;l<i.fileModel.length;l++)i.fileModel[l].extension&&i.fileModel[l].file&&i._imgSrc.push({src:t(i.fileModel[l])})}],link:function(l,e,i){e=e.find("input");l.inputFile=e,i.hasOwnProperty("multiple")?e.attr("multiple"):e.removeAttr("multiple"),e.bind("change",function(){var e=this;if(e.files&&0<e.files.length){if(-1===e.files[0].type.indexOf("png"))return alert("Please Select image with PNG Files"),void l.$broadcast("clearImage");"[object Array]"!==Object.prototype.toString.call(l.fileModel)&&(data=l.fileModel=[]);for(var i=0;i<e.files.length;i++)n(e.files[i],function(e){l.multiple?function(e,i){for(var l=0;l<e.length;l++)if(e[l].name===i.name)return 1}(l.fileModel,e)||(l.fileModel.push(e),l._imgSrc.push({src:t(e)})):(l.fileModel.length=0,l._imgSrc.length=0,l.fileModel.push(e),l._imgSrc.push({src:t(e)}))})}}),l.$on("clearImage",function(){l._imgSrc&&(l._imgSrc.length=0),l.fileModel&&(l.fileModel.length=0),l.inputFile&&(l.inputFile[0].value="")})}}}]);
app.directive("myValidator",["$parse","$q",function($parse,$q){function _regular(){var self=this;self.isEmptyValue=function(e){return null===e||""===$.trim(e)},self.isEMAIL=function(e){return/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(e)},self.isUSERNAME=function(e){return/^[a-zA-Z0-9]{6,12}$/.test(e)},self.isPASSWORD=function(e){if(null===e||""===$.trim(e))return!0;return/^(?=.*[A-Za-z])(?=.*\d)(?=.*[$~!@#$%^&*()_+])[A-Za-z\d$~!@#$%^&*()_+]{8,}$/.test(e)},self.isDOUBLE=function(e){return new RegExp("^[0-9]+([.][0-9]+)?$").test(e)},self.isMOBILE=function(e){return new RegExp(/^(09([0-9]){8})$/).test(e)},self.isTEL=function(e){return new RegExp(/^(\+[0-9]|[0-9]|[0-9]-[0-9])*$/).test(e)},self.isURL=function(e){return new RegExp(/(http|https):\/\/www.(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/).test(e)},self.isNUMERIC=function(e){return/^[0-9]{1,}$/.test(e)},self.isPERCENT=function(e){return/\b(?<!\.)(?!0+(?:\.0+)?%)(?:\d|[1-9]\d|100)(?:(?<!100)\.\d+)?%/.test(e)},self.isDROPDOWN=function(e){return-1!==e},self.isTWID=function(id){var city=new Array(1,10,19,28,37,46,55,64,39,73,82,2,11,20,48,29,38,47,56,65,74,83,21,3,12,30);if(id=id.toUpperCase(),-1===id.search(/^[A-Z](1|2)\d{8}$/i))return!1;id=id.split("");for(var total=city[id[0].charCodeAt(0)-65],i=1;i<=8;i++)total+=eval(id[i])*(9-i);return total+=eval(id[9]),total%10==0}}return{restrict:"A",require:"ngModel",link:function(e,t,i,n){var r=new _regular,s=i.myValidator;n.$validators.myValidator=function(e){return r[`is${s.toUpperCase()}`](e)}}}}]),app.directive("allowNumbersOnly",function(){return{restrict:"A",link:function(e,t,i){t.bind("keydown",function(e){return 8===e.keyCode||9===e.keyCode||((47<e.keyCode&&e.keyCode<58||95<e.keyCode&&e.keyCode<106)&&!e.shiftKey?void 0:(e.preventDefault(),!1))})}}});